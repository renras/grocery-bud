(this["webpackJsonpgrocery-bud"]=this["webpackJsonpgrocery-bud"]||[]).push([[0],{18:function(e,t,r){},25:function(e,t,r){"use strict";r.r(t);var n=r(3),c=r.n(n),o=r(11),a=r.n(o),i=(r(18),r(12)),s=r(9),l=r(10),d=r(1),y=function(e){var t=e.modalContent,r=e.closeModal,c=e.modal;return Object(n.useEffect)((function(){setTimeout((function(){r()}),3e3)})),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("p",{ref:c,className:"modalContent",children:t})})},m=r(2),u=r(13),O=function(e,t){if("ADD_ITEM"===t.type){var r=[].concat(Object(u.a)(e.groceryList),[t.payload]);return Object(m.a)(Object(m.a)({},e),{},{groceryList:r,isModalOpen:!0,modalContent:"item added",groceryItem:""})}if("REMOVE_ITEM"===t.type){var n=e.groceryList.filter((function(e){return e.id!==t.payload}));return Object(m.a)(Object(m.a)({},e),{},{groceryList:n,modalContent:"item removed",isModalOpen:!0})}if("CLEAR_ITEMS"===t.type)return Object(m.a)(Object(m.a)({},e),{},{groceryList:[],modalContent:"items cleared",isModalOpen:!0});if("EDIT_ITEM"===t.type){var c=e.groceryList.map((function(t){return t.id===e.editID&&(t.name=e.groceryItem),t}));return Object(m.a)(Object(m.a)({},e),{},{groceryList:c,isEditing:!1,groceryItem:"",isModalOpen:!1})}return"EDITING_MODE"===t.type?Object(m.a)(Object(m.a)({},e),{},{modalContent:"enter new name",groceryItem:t.payload.name,isEditing:!0,editID:t.payload.id,isModalOpen:!0}):"INPUT_ON_CHANGE"===t.type?Object(m.a)(Object(m.a)({},e),{},{groceryItem:t.payload}):"CLOSE_MODAL"===t.type?Object(m.a)(Object(m.a)({},e),{},{isModalOpen:!1}):void 0},g={groceryList:(console.log("hello"),localStorage.getItem("groceryList")?JSON.parse(localStorage.getItem("groceryList")):[]),isModalOpen:!1,modalContent:"",isEditing:!1,groceryItem:"",editID:null};var j=function(){var e=Object(n.useRef)(null),t=Object(n.useReducer)(O,g),r=Object(i.a)(t,2),c=r[0],o=r[1];return Object(n.useEffect)((function(){localStorage.setItem("groceryList",JSON.stringify(c.groceryList))}),[c.groceryList]),Object(n.useEffect)((function(){try{"item removed"===c.modalContent||"items cleared"===c.modalContent?e.current.style.backgroundColor="#ff9999":e.current.style.backgroundColor="#e9fce9"}catch(t){}})),Object(d.jsxs)("main",{children:[c.isModalOpen&&Object(d.jsx)(y,{closeModal:function(){o({type:"CLOSE_MODAL"})},modal:e,modalContent:c.modalContent}),Object(d.jsx)("h1",{children:"Grocery Bud"}),Object(d.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),c.groceryItem&&!c.isEditing){var t={id:(new Date).getTime().toString(),name:c.groceryItem};o({type:"ADD_ITEM",payload:t})}else c.groceryItem&&c.isEditing?o({type:"EDIT_ITEM"}):o({type:"NO_VALUE"})},children:[Object(d.jsx)("input",{type:"text",name:"groceryItem",id:"groceryItem",value:c.groceryItem,onChange:function(e){return o({type:"INPUT_ON_CHANGE",payload:e.target.value})},placeholder:"e.g. eggs"}),Object(d.jsx)("button",{type:"submit",children:c.isEditing?"edit":"submit"})]}),Object(d.jsx)("section",{children:c.groceryList.map((function(e){return Object(d.jsxs)("div",{className:"groceryItem",children:[Object(d.jsx)("p",{children:e.name}),Object(d.jsxs)("span",{children:[Object(d.jsx)(s.a,{className:"editIcon",onClick:function(){return o({type:"EDITING_MODE",payload:e})},icon:l.a}),Object(d.jsx)(s.a,{className:"trashIcon",onClick:function(){return o({type:"REMOVE_ITEM",payload:e.id})},icon:l.b})]})]},e.id)}))}),c.groceryList.length>0&&Object(d.jsx)("button",{className:"clearItemsButton",onClick:function(){return o({type:"CLEAR_ITEMS"})},children:"Clear Items"})]})};a.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(j,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.cc0eae37.chunk.js.map